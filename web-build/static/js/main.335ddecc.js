(()=>{"use strict";var e={5638:(e,t,o)=>{e.exports=o.p+"static/media/landing2.ba1e6c00e0238fb65f56.png"},6774:(e,t,o)=>{var r=o(8367),a=o(2101),n=o(4929),s=o(9282),l=o(4482),i=o(5409);const d=(e,t,o)=>{const r=a.createContext();return{Context:r,Provider:({children:n})=>{const[s,l]=(0,a.useReducer)(e,o),d={};for(let e in t)d[e]=t[e](l);return(0,i.jsx)(r.Provider,{value:Object.assign({state:s},d),children:n})}}};var c=o(4892),m=o(2011);const u=c.default.create({baseURL:"https://wordie-api.vercel.app/"});u.interceptors.request.use((async e=>{const t=await m.default.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e)));const g=u;var f=o(3471);const x=(0,f.createNavigationContainerRef)();function h(e,t){x.isReady()&&x.navigate(e,t)}const{Provider:p,Context:y}=d(((e,t)=>{switch(t.type){case"add_error":return Object.assign({},e,{errorMessage:t.payload});case"signin":return{errorMessage:"",token:t.payload.token,info:t.payload.info,email:t.payload.email};case"clear_error_message":return Object.assign({},e,{errorMessage:""});case"signout":return{token:null,info:null,email:null,errorMessage:""};case"update_user_info":case"get_player_info":return Object.assign({},e,{info:t.payload});default:return e}}),{signin:e=>async({email:t,password:o})=>{try{const r=await g.post("/signin",{email:t,password:o});await m.default.setItem("token",r.data.token),await m.default.setItem("info",JSON.stringify(r.data.info)),await m.default.setItem("email",JSON.stringify(r.data.email)),e({type:"signin",payload:{token:r.data.token,info:r.data.info,email:t}}),h("Landing")}catch(r){e({type:"add_error",payload:"Something went wrong with sign in"})}},signout:e=>async()=>{await m.default.removeItem("token"),await m.default.removeItem("info"),await m.default.removeItem("email"),e({type:"signout"}),h("Signin")},signup:e=>async({email:t,password:o})=>{try{const r=await g.post("/signup",{email:t,password:o});await m.default.setItem("token",r.data.token),e({type:"signin",payload:{token:r.data.token}}),h("Landing")}catch(r){e({type:"add_error",payload:"Something went wrong with sign up"})}},clearErrorMessage:e=>()=>{e({type:"clear_error_message"})},tryLocalSignin:e=>async()=>{const t=await m.default.getItem("token");t?(console.log(`Token: ${t}`),e({type:"signin",payload:{token:t}}),h("Landing")):h("Signin")},getPlayerInfo:e=>async()=>{try{const t=await g.post("/getPlayerInfo");console.log(`Response: ${JSON.stringify(t.data.info)}`),e({type:"get_player_info",payload:t.data.info}),console.log(`State after dispatch: ${JSON.stringify(t.data.info)}`)}catch(t){console.error("Error fetching player info:",t),e({type:"add_error",payload:"Something went wrong with player info"})}},updateUserInfo:e=>async t=>{try{const o=await g.post("/updatePlayerInfo",{info:t});console.log(`updateUserInfo response: ${JSON.stringify(o.data)}`),await m.default.setItem("info",JSON.stringify(o.data.info)),e({type:"update_user_info",payload:o.data.info})}catch(o){console.log(`updateUserInfo error: ${o}`),e({type:"add_error",payload:"Something went wrong with updating user info"})}}},{token:null,info:null,email:null,errorMessage:""}),{Context:w,Provider:v}=d(((e,t)=>{switch(t.type){case"update_keyboard_data":return Object.assign({},e,{keyboardData:e.keyboardData+t.payload});case"clear_keyboard_data":return Object.assign({},e,{keyboardData:""});default:return e}}),{clearKeyboardData:e=>()=>{e({type:"clear_keyboard_data"})},updateKeyboardData:e=>t=>{e({type:"update_keyboard_data",payload:t})}},{keyboardData:""}),W=e=>async t=>{try{let o=await g.post("/getHelp",{data:t});return console.log(`get help response points is ${JSON.stringify(o.data.points)}`),e({type:"get_help",payload:{crossword:t}}),o}catch(o){console.error("Failed to notify server:",o)}},b=(e,t)=>{let o=t.words.filter((e=>e.placed&&!1===e.found)),r=o[Math.floor(Math.random()*o.length)],a=t.words.findIndex((e=>e===r)),n=Math.floor(Math.random()*r.text.length);return j(t,a,n)?{helped:!1,crossword:t}:{helped:!0,crossword:t,letter:r.text[n],letterIndex:n,wordIndex:a}},j=(e,t,o)=>e.help.some((e=>e.wordIndex===t&&e.letterIndex===o)),{Provider:E,Context:C}=d(((e,t)=>{switch(t.type){case"get_crossword":case"update_crossword":case"reveal_letter":case"update_crossword_help":return{crosswordData:t.payload};case"clear_crossword":return{crosswordData:{}};default:return e}}),{getCrossword:e=>async()=>{try{const t=await g.post("/createCrossword");e({type:"get_crossword",payload:t.data})}catch(t){console.error("Error fetching crossword data:",t),e({type:"add_error",payload:"Something went wrong with fetching crossword data"})}},updateCrossword:e=>async t=>{try{const o=await g.post("/updateCrossword",{data:t});return e({type:"update_crossword",payload:t}),o.data}catch(o){return console.error("Failed to notify server:",o),null}},clearCrossword:e=>()=>{e({type:"clear_crossword"})},revealLetter:e=>async t=>{let o=b(e,t);for(;!o.helped;)o=b(e,o.crossword);return!!(await W(e)(o.crossword)).data&&(t.help=[...t.help,{wordIndex:o.wordIndex,letterIndex:o.letterIndex}],e({type:"reveal_letter",payload:t}),o)},updateCrosswordHelp:e=>async t=>{try{const o=await g.post("/updateCrosswordHelp",{data:t});return e({type:"update_crossword_help",payload:t}),o.data}catch(o){return console.error("Failed to notify server:",o),null}}},{crosswordData:{}});var S=o(8704);const I=()=>{console.log("ResolveAuthScreen");const{tryLocalSignin:e}=(0,a.useContext)(y);return(0,a.useEffect)((()=>{e()}),[]),null};var k=o(3877),L=o(8951);var D=o(6746);const _=D.default.create({spacer:{margin:15}}),P=({children:e})=>(0,i.jsx)(k.default,{style:_.spacer,children:e});var O=o(457);const R=D.default.create({container:{flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},text:{fontSize:15,textAlign:"center",color:"#000",margin:10},image:{flexDirection:"column",justifyContent:"center",width:100,height:120,borderRadius:5,marginBottom:5},back:{position:"absolute",left:10,top:10},infoContainer:{width:"60%",padding:20,backgroundColor:"#f8f8f8",borderRadius:10,marginVertical:20,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:5,elevation:5},infoRow:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginBottom:10},label:{fontSize:16,fontWeight:"bold",color:"#333",marginRight:10},value:{fontSize:16,color:"#555",textAlign:"left"}});var T=o(44),M=o(7490);const A=D.default.create({circle:{width:35,height:35,borderRadius:17.5,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center",margin:5},text:{color:"#fff"}}),z=({icon:e,onPress:t,style:o})=>(0,i.jsx)(T.default,{style:[A.circle,o],onPress:()=>t(t),children:(0,i.jsx)(M.Icon,{name:e,type:"material",color:"#fff",size:25})}),N=({navigation:e})=>{const{state:t,signout:o,getPlayerInfo:r}=(0,a.useContext)(y);(0,a.useEffect)((()=>{console.log("useEffect called in AccountScreen"),r()}),[]),console.log(`state in AccountScreen is ${JSON.stringify(t)}`);const{elo:n,level:s,points:d,email:c}=t.info||{};return(0,i.jsxs)(l.SafeAreaProvider,{forceInset:{top:"always"},style:R.container,children:[(0,i.jsx)(P,{children:(0,i.jsx)(O.default,{style:R.image,source:{uri:"https://img.icons8.com/?size=512&id=111473&format=png"}})}),(0,i.jsxs)(k.default,{style:R.infoContainer,children:[(0,i.jsxs)(k.default,{style:R.infoRow,children:[(0,i.jsx)(L.default,{style:R.label,children:"Email:"}),(0,i.jsx)(L.default,{style:R.value,children:c})]}),(0,i.jsxs)(k.default,{style:R.infoRow,children:[(0,i.jsx)(L.default,{style:R.label,children:"\u0395\u03c0\u03af\u03c0\u03b5\u03b4\u03bf:"}),(0,i.jsxs)(L.default,{style:R.value,children:[s," (",parseInt(n,10)," elo)"]})]}),(0,i.jsxs)(k.default,{style:R.infoRow,children:[(0,i.jsx)(L.default,{style:R.label,children:"\u03a0\u03cc\u03bd\u03c4\u03bf\u03b9:"}),(0,i.jsx)(L.default,{style:R.value,children:d})]})]}),(0,i.jsx)(P,{}),(0,i.jsx)(z,{style:R.back,icon:"keyboard-arrow-left",onPress:()=>e.navigate("Landing")})]})},B=({navigation:e})=>{const{state:t,signout:o,getPlayerInfo:r}=(0,a.useContext)(y);(0,a.useEffect)((()=>{console.log("useEffect called in SettingsScreen"),r()}),[]),console.log(`state in SettingsScreen is ${JSON.stringify(t)}`);const{elo:n,level:s,points:d}=t.info||{};return(0,i.jsxs)(l.SafeAreaProvider,{forceInset:{top:"always"},style:R.container,children:[(0,i.jsx)(P,{children:(0,i.jsx)(O.default,{style:R.image,source:{uri:"https://img.icons8.com/?size=512&id=111473&format=png"}})}),(0,i.jsxs)(L.default,{style:R.text,children:["\u0395\u03c0\u03af\u03c0\u03b5\u03b4\u03bf: ",s," \u03bc\u03b5 ",parseInt(n,10)," elo"]}),(0,i.jsxs)(L.default,{style:R.text,children:["\u03a0\u03cc\u03bd\u03c4\u03bf\u03b9: ",d]}),(0,i.jsx)(P,{children:(0,i.jsx)(S.default,{onPress:o,color:"#8A2BE2",title:"\u0391\u03a0\u039f\u03a3\u03a5\u039d\u0394\u0395\u03a3\u0397"})}),(0,i.jsx)(z,{style:R.back,icon:"keyboard-arrow-left",onPress:()=>e.navigate("Landing")})]})},$=D.default.create({errorMessage:{fontSize:16,color:"red",marginLeft:15,marginTop:15}}),F=({headerText:e,errorMessage:t,onSubmit:o,submitButtonText:r,clearErrorMessage:n})=>{const[s,l]=(0,a.useState)(""),[d,c]=(0,a.useState)("");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P,{children:(0,i.jsx)(L.default,{h2:!0,style:{textAlign:"center"},children:e})}),(0,i.jsx)(M.Input,{label:"Email",value:s,onChangeText:e=>{l(e),n()},autoCapitalize:"none",autoCorrect:!1}),(0,i.jsx)(P,{}),(0,i.jsx)(M.Input,{secureTextEntry:!0,label:"Password",value:d,onChangeText:e=>{c(e),n()},autoCapitalize:"none",autoCorrect:!1}),t?(0,i.jsx)(L.default,{style:$.errorMessage,children:t}):null,(0,i.jsx)(P,{children:(0,i.jsx)(M.Button,{title:r,onPress:()=>o({email:s,password:d}),buttonStyle:{backgroundColor:"#8A2BE2"}})})]})},J=D.default.create({link:{color:"#8A2BE2",textAlign:"center"}}),V=({text:e,routeName:t})=>{const o=(0,f.useNavigation)();return(0,i.jsx)(T.default,{onPress:()=>o.navigate(t),children:(0,i.jsx)(P,{children:(0,i.jsx)(L.default,{style:J.link,children:e})})})},K=()=>{const{state:e,signin:t,clearErrorMessage:o}=(0,a.useContext)(y);return(0,f.useFocusEffect)((0,a.useCallback)((()=>{o()}),[])),(0,i.jsxs)(k.default,{style:[U.container,U.desktopContainer],children:[(0,i.jsx)(F,{headerText:"\u03a3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf Wordie",errorMessage:e.errorMessage,onSubmit:t,submitButtonText:"\u03a3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7",clearErrorMessage:o}),(0,i.jsx)(V,{text:"\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03bb\u03bf\u03b3\u03b1\u03c1\u03b9\u03b1\u03c3\u03bc\u03cc; \u0395\u03b3\u03b3\u03c1\u03b1\u03c6\u03b5\u03af\u03c4\u03b5 \u03b5\u03b4\u03ce.",routeName:"Signup"})]})};K.navigationOptions={header:()=>!1};const U=D.default.create({container:{flex:1,justifyContent:"center",marginBottom:50},desktopContainer:{width:"50%",alignSelf:"center"}}),H=K,G=({navigation:e})=>{const{state:t,signup:o,clearErrorMessage:r}=(0,a.useContext)(y);return(0,f.useFocusEffect)((0,a.useCallback)((()=>{r()}),[])),(0,i.jsxs)(k.default,{style:[q.container,q.desktopContainer],children:[(0,i.jsx)(F,{headerText:"\u0395\u03b3\u03b3\u03c1\u03b1\u03c6\u03ae \u03c3\u03c4\u03bf Wordie",errorMessage:t.errorMessage,submitButtonText:"\u0395\u03b3\u03b3\u03c1\u03b1\u03c6\u03ae",onSubmit:o,clearErrorMessage:r}),(0,i.jsx)(V,{routeName:"Signin",text:"\u0388\u03c7\u03b5\u03c4\u03b5 \u03ae\u03b4\u03b7 \u03bb\u03bf\u03b3\u03b1\u03c1\u03b9\u03b1\u03c3\u03bc\u03cc; \u03a3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5!"})]})};G.navigationOptions=()=>({header:()=>!1});const q=D.default.create({container:{flex:1,justifyContent:"center",marginBottom:50},desktopContainer:{width:"50%",alignSelf:"center"}}),Y=G;var Q=o(4721);const X=D.default.create({container:{flex:1},text:{fontSize:24,textAlign:"center",color:"#FFF",margin:10},image:{width:"100%",height:"100%",alignContent:"center",justifyContent:"center"},buttonContainer:{margin:20,padding:10,borderWidth:1,borderColor:"rgba(128, 128, 128, 0.2)",borderRadius:20,backgroundColor:"rgba(128, 128, 128, 0.2)",justifyContent:"center",alignItems:"center"},container:{justifyContent:"center",alignItems:"center"},buttonContainer2:{width:"25%",margin:20,padding:10,borderWidth:1,borderColor:"rgba(128, 128, 128, 0.2)",borderRadius:20,backgroundColor:"rgba(128, 128, 128, 0.2)"},account:{position:"absolute",left:10,top:10},settings:{position:"absolute",right:10,top:10}}),Z=({navigation:e})=>(0,i.jsx)(l.SafeAreaProvider,{style:X.container,forceInset:{top:"always"},children:(0,i.jsxs)(Q.default,{source:o(5638),style:X.image,children:[(0,i.jsx)(k.default,{style:X.container,children:(0,i.jsxs)(k.default,{style:X.buttonContainer2,children:[(0,i.jsx)(L.default,{style:X.text,children:"\u039a\u03b1\u03bb\u03ce\u03c2 \u03ae\u03c1\u03b8\u03b1\u03c4\u03b5 \u03c3\u03c4\u03bf woordie"}),(0,i.jsx)(S.default,{color:"#42c957",title:"\u039e\u0395\u039a\u0399\u039d\u0397\u03a3\u03a4\u0395 \u03a4\u039f \u03a0\u0391\u0399\u03a7\u039d\u0399\u0394\u0399",onPress:()=>e.navigate("Game")})]})}),(0,i.jsx)(z,{style:X.account,icon:"person",onPress:()=>e.navigate("Account")}),(0,i.jsx)(z,{style:X.settings,icon:"settings",onPress:()=>e.navigate("Settings")})]})});var ee=o(2344),te=o(9542),oe=o(4445);const re=D.default.create({circle:{width:200,height:200,borderRadius:150,borderWidth:2,borderColor:"black",justifyContent:"center",alignItems:"center"},key:{position:"absolute",borderRadius:25,justifyContent:"center",alignItems:"center"},keyText:{fontSize:18,fontWeight:"bold"}}),ae=({keys:e})=>{const[t,o]=(0,a.useState)(e),[r,n]=(0,a.useState)([]),{state:s,updateKeyboardData:l,clearKeyboardData:d}=(0,a.useContext)(w);(0,a.useEffect)((()=>{""===s.keyboardData?n([]):console.log(`Keyboard Data: ${s.keyboardData}`)}),[s.keyboardData]);return(0,i.jsxs)(k.default,{style:re.circle,children:[t&&t.map(((e,o)=>(0,i.jsx)(T.default,{style:[re.key,{width:t.length<7?50:40,height:t.length<7?50:40,backgroundColor:r.includes(o)?"#7e7e7e":"#f0f0f0",transform:[{rotate:360*o/t.length+"deg"},{translateY:-70},{rotate:-360*o/t.length+"deg"}]}],onPress:()=>((e,t)=>{r.includes(t)||(l(e),n([...r,t]))})(e,o),children:(0,i.jsx)(L.default,{style:re.keyText,children:e})},o))),(0,i.jsx)(T.default,{onPress:()=>(()=>{let e=[...t].sort((()=>Math.random()-.5));o(e)})(),children:(0,i.jsx)(M.Icon,{reverse:!0,name:"shuffle-outline",type:"ionicon",color:"#fff",reverseColor:"#000",size:25})})]})},ne=D.default.create({circle:{width:75,height:25,borderRadius:17.5,backgroundColor:"rgba(0, 0, 0, 0.5)",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"row",gap:2,margin:10},text:{color:"white",fontSize:16,fontWeight:"bold",fontFamily:"Roboto",textAlign:"center",alignItems:"center"}}),se=({icon:e,points:t,style:o})=>(0,i.jsxs)(k.default,{style:[ne.circle,o],children:[(0,i.jsx)(M.Icon,{name:e,type:"material",color:"#fff",size:22}),(0,i.jsx)(L.default,{style:ne.text,children:t})]}),le=D.default.create({loading:{flex:1,justifyContent:"center",alignItems:"center",fontSize:30,color:"white"},text:{fontSize:18,fontWeight:"bold",fontFamily:"Roboto",color:"white",textAlign:"center",alignItems:"center"},textContainer:{backgroundColor:"rgba(0, 0, 0, 0.25)",padding:10,borderRadius:5,marginBottom:5},cell:{width:25,height:25,justifyContent:"center",alignItems:"center"},wordRow:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:5},image:{width:"100%",height:"100%",alignContent:"center",justifyContent:"center"},wordContainer:{top:40,flex:1,justifyContent:"center",alignItems:"center",width:"100%",height:"80%",gap:10,marginTop:15,marginBottom:15},deleteContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center"},circleView:{flex:1,top:40,justifyContent:"center",alignItems:"center",width:"100%",height:"20%"},gavel:{position:"absolute",left:10,top:10},lightbulb:{position:"absolute",right:10,top:10},settings:{position:"absolute",right:10,top:10},points:{position:"absolute",left:10,top:10},modal:{position:"absolute",top:0,left:0,right:0,bottom:0,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalContent:{width:300,padding:20,backgroundColor:"white",borderRadius:10,alignItems:"center"},modalText:{fontSize:18,marginBottom:20,textAlign:"center"},modalButton:{fontSize:16,color:"rgba(0, 0, 0, 0.7)",padding:5,marginTop:10},timerContainer:{position:"absolute",bottom:40,left:10,backgroundColor:"rgba(0, 0, 0, 0.5)",padding:10,borderRadius:5},timerText:{color:"white",fontSize:16},progressBarContainer:{width:"100%",height:20,backgroundColor:"#e0e0e0",borderRadius:10,overflow:"hidden",marginTop:10},progressBar:{height:"100%",backgroundColor:"#42c957"},progressText:{position:"absolute",width:"100%",textAlign:"center",color:"#fff",fontWeight:"bold"}}),ie=[{level:1,minElo:0,maxElo:999,minWords:3,maxWords:4,maxWordLength:4},{level:2,minElo:1e3,maxElo:1999,minWords:3,maxWords:4,maxWordLength:4},{level:3,minElo:2e3,maxElo:2999,minWords:3,maxWords:5,maxWordLength:4},{level:4,minElo:3e3,maxElo:3999,minWords:3,maxWords:5,maxWordLength:4},{level:5,minElo:4e3,maxElo:4999,minWords:3,maxWords:5,maxWordLength:5},{level:6,minElo:5e3,maxElo:5999,minWords:3,maxWords:5,maxWordLength:5},{level:7,minElo:6e3,maxElo:6999,minWords:4,maxWords:5,maxWordLength:5},{level:8,minElo:7e3,maxElo:7999,minWords:4,maxWords:5,maxWordLength:5},{level:9,minElo:8e3,maxElo:8999,minWords:4,maxWords:5,maxWordLength:5},{level:10,minElo:9e3,maxElo:9999,minWords:4,maxWords:6,maxWordLength:5},{level:11,minElo:1e4,maxElo:10999,minWords:5,maxWords:6,maxWordLength:5},{level:12,minElo:11e3,maxElo:11999,minWords:5,maxWords:6,maxWordLength:5},{level:13,minElo:12e3,maxElo:12999,minWords:5,maxWords:6,maxWordLength:6},{level:14,minElo:13e3,maxElo:13999,minWords:5,maxWords:6,maxWordLength:6},{level:15,minElo:14e3,maxElo:14999,minWords:4,maxWords:7,maxWordLength:6},{level:16,minElo:15e3,maxElo:15999,minWords:4,maxWords:7,maxWordLength:6},{level:17,minElo:16e3,maxElo:16999,minWords:5,maxWords:7,maxWordLength:7},{level:18,minElo:17e3,maxElo:17999,minWords:5,maxWords:7,maxWordLength:7},{level:19,minElo:18e3,maxElo:18999,minWords:5,maxWords:7,maxWordLength:7},{level:20,minElo:19e3,maxElo:19999,minWords:5,maxWords:7,maxWordLength:7},{level:21,minElo:2e4,maxElo:20999,minWords:6,maxWords:7,maxWordLength:7},{level:22,minElo:21e3,maxElo:21999,minWords:6,maxWords:7,maxWordLength:7},{level:23,minElo:22e3,maxElo:22999,minWords:6,maxWords:7,maxWordLength:7},{level:24,minElo:23e3,maxElo:23999,minWords:6,maxWords:7,maxWordLength:8},{level:25,minElo:24e3,maxElo:24999,minWords:6,maxWords:7,maxWordLength:8},{level:26,minElo:25e3,maxElo:25999,minWords:6,maxWords:7,maxWordLength:8},{level:27,minElo:26e3,maxElo:26999,minWords:6,maxWords:7,maxWordLength:8},{level:28,minElo:27e3,maxElo:27999,minWords:6,maxWords:8,maxWordLength:8},{level:29,minElo:28e3,maxElo:28999,minWords:6,maxWords:8,maxWordLength:8},{level:30,minElo:29e3,maxElo:29999,minWords:6,maxWords:8,maxWordLength:8},{level:31,minElo:3e4,maxElo:30999,minWords:6,maxWords:8,maxWordLength:8},{level:32,minElo:31e3,maxElo:31999,minWords:6,maxWords:8,maxWordLength:8},{level:33,minElo:32e3,maxElo:32999,minWords:6,maxWords:8,maxWordLength:8},{level:34,minElo:33e3,maxElo:33999,minWords:6,maxWords:8,maxWordLength:8},{level:35,minElo:34e3,maxElo:34999,minWords:6,maxWords:8,maxWordLength:8},{level:36,minElo:35e3,maxElo:35999,minWords:7,maxWords:9,maxWordLength:8},{level:37,minElo:36e3,maxElo:36999,minWords:7,maxWords:9,maxWordLength:8},{level:38,minElo:37e3,maxElo:37999,minWords:7,maxWords:10,maxWordLength:8},{level:39,minElo:38e3,maxElo:38999,minWords:7,maxWords:11,maxWordLength:9},{level:40,minElo:39e3,maxElo:39999,minWords:7,maxWords:12,maxWordLength:9},{level:41,minElo:4e4,maxElo:40999,minWords:8,maxWords:12,maxWordLength:9},{level:42,minElo:41e3,maxElo:41999,minWords:9,maxWords:13,maxWordLength:9},{level:43,minElo:42e3,maxElo:42999,minWords:10,maxWords:13,maxWordLength:10},{level:44,minElo:43e3,maxElo:43999,minWords:11,maxWords:13,maxWordLength:10},{level:45,minElo:44e3,maxElo:44999,minWords:12,maxWords:14,maxWordLength:10},{level:46,minElo:45e3,maxElo:45999,minWords:13,maxWords:14,maxWordLength:10},{level:47,minElo:46e3,maxElo:46999,minWords:13,maxWords:14,maxWordLength:10},{level:48,minElo:47e3,maxElo:47999,minWords:14,maxWords:15,maxWordLength:10},{level:49,minElo:48e3,maxElo:48999,minWords:14,maxWords:15,maxWordLength:10},{level:50,minElo:49e3,maxElo:999999999999999,minWords:15,maxWords:15,maxWordLength:10}],de=(e,t,o)=>{t.forEach((r=>{if(!r.placed)return;const{start:a,orientation:n,text:s}=r;let l=t.findIndex((e=>e===r)),[i,d]=a;for(let t=0;t<s.length;t++)"horizontal"===n?(e[d]||(e[d]=[]),e[d][i+t]||(e[d][i+t]=" ")):"vertical"===n&&(e[d+t]||(e[d+t]=[]),e[d+t][i]||(e[d+t][i]=" ")),o.some((e=>e.wordIndex===l&&e.letterIndex===t))&&("horizontal"===n?e[d][i+t]=s[t]:"vertical"===n&&(e[d+t][i]=s[t]))}))},ce=(e,t)=>{t.forEach((t=>{const{start:o,orientation:r,text:a,found:n,placed:s}=t;if(!n)return;if(!s)return;let[l,i]=o;for(let d=0;d<a.length;d++)"horizontal"===r?e[i][l+d]=a[d]:"vertical"===r&&(e[i+d][l]=a[d])}))},me=({navigation:e})=>{const{state:t,clearKeyboardData:r}=(0,a.useContext)(w),{state:n,updateUserInfo:s,getPlayerInfo:d}=(0,a.useContext)(y),{state:c,getCrossword:m,updateCrossword:u,updateCrosswordHelp:g,clearCrossword:f,revealLetter:x}=(0,a.useContext)(C);let{keyboardData:h}=t;const[p,v]=(0,a.useState)(!0),[W,b]=(0,a.useState)(null),[j,E]=(0,a.useState)(!1),[S,I]=(0,a.useState)(0),[D,_]=(0,a.useState)(0),[P,O]=(0,a.useState)(!1),[R,M]=(0,a.useState)(null),A=(0,a.useRef)(new te.default.Value(0)).current,[N,B]=(0,a.useState)(!1);(0,a.useEffect)((()=>{console.log("useEffect called in GameScreen"),d()}),[N]);(0,a.useEffect)((()=>{(async()=>{try{await m(),v(!1)}catch(e){b("Failed to fetch crossword data"),v(!1)}})()}),[j]),(0,a.useEffect)((()=>(c.crosswordData&&c.crosswordData.info&&(I(c.crosswordData.info.time),(()=>{const e=Date.now()-1e3*c.crosswordData.info.time;_(setInterval((()=>{I(Math.floor((Date.now()-e)/1e3))}),1e3))})()),()=>{D&&(clearInterval(D),_(null))})),[c.crosswordData]),(0,a.useEffect)((()=>{const e=ee.default.addEventListener("change",(e=>{if(e.match(/inactive|background/))c.crosswordData&&c.crosswordData.info&&(c.crosswordData.info.time=S,u(c.crosswordData)),D&&(clearInterval(D),_(null));else if("active"===e){const e=Date.now()-1e3*c.crosswordData.info.time;_(setInterval((()=>{I(Math.floor((Date.now()-e)/1e3))}),1e3))}}));return()=>{e.remove()}}),[S,c.crosswordData,D]);const $=e=>{const t=ie.find((t=>e>=t.minElo&&e<=t.maxElo)),o=ie.find((e=>e.level===t.level+1));return o?parseInt(o.minElo):null};if(p)return(0,i.jsx)(l.SafeAreaProvider,{forceInset:{top:"always"},children:(0,i.jsx)(Q.default,{source:o(7498),style:le.image,children:(0,i.jsx)(k.default,{style:le.wordContainer,children:(0,i.jsx)(L.default,{style:le.loading,children:"\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03c0\u03b5\u03c1\u03b9\u03bc\u03ad\u03bd\u03b5\u03c4\u03b5, \u03c6\u03c4\u03b9\u03ac\u03c7\u03bd\u03bf\u03c5\u03bc\u03b5 \u03ad\u03bd\u03b1 \u03c3\u03c4\u03b1\u03c5\u03c1\u03cc\u03bb\u03b5\u03be\u03bf \u03b1\u03ba\u03c1\u03b9\u03b2\u03ce\u03c2 \u03c3\u03c4\u03b1 \u03bc\u03ad\u03c4\u03c1\u03b1 \u03c3\u03b1\u03c2"})})})});if(W)return(0,i.jsx)(k.default,{children:(0,i.jsx)(L.default,{children:W})});const{grid:F,words:J,keys:V,help:K}=c.crosswordData||{};F&&J&&K&&(de(F,J,K),ce(F,J));return(0,i.jsx)(l.SafeAreaProvider,{forceInset:{top:"always"},children:(0,i.jsxs)(Q.default,{source:o(7498),style:le.image,children:[n.info&&(0,i.jsx)(se,{style:le.points,icon:"star",points:n.info.points}),(0,i.jsx)(z,{style:le.settings,icon:"settings",onPress:()=>e.navigate("Settings")}),(0,i.jsx)(k.default,{style:le.wordContainer,children:F&&F.map(((e,t)=>(0,i.jsx)(k.default,{style:le.wordRow,children:e.map(((e,t)=>{const o=e?{borderWidth:2,borderColor:"white",borderRadius:5,opacity:.9}:{opacity:.9};return(0,i.jsx)(k.default,{style:[le.cell,o],children:(0,i.jsx)(L.default,{style:le.text,children:e})},t)}))},t)))}),(0,i.jsxs)(k.default,{style:le.circleView,children:[(0,i.jsxs)(k.default,{style:le.deleteContainer,children:[(0,i.jsx)(k.default,{style:le.textContainer,children:(0,i.jsx)(L.default,{style:le.text,children:h||"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03b3\u03c1\u03ac\u03bc\u03bc\u03b1"})}),t.keyboardData&&t.keyboardData.length>=3&&(0,i.jsx)(z,{style:le.delete,icon:"search",onPress:async()=>{for(const e of c.crosswordData.words){let t=!1;if(e.text===h&&!e.found&&e.placed&&1==e.placed&&(e.found=!0,t=!0),e.text!==h||e.extraFound||e.placed||(alert("\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03bb\u03ad\u03be\u03b7 \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b5: "+h),e.extraFound=!0,t=!0),t){c.crosswordData.info.time=S;let e=await u(c.crosswordData);console.log(`updateCrossword response is ${JSON.stringify(e)}`),e&&e.levelInfo&&(c.crosswordData.info.time=e.crossword.info.time,M(e.levelInfo)),c.crosswordData.words.filter((e=>e.placed)).every((e=>e.found))&&(console.log("All words found"),O(!0),te.default.timing(A,{toValue:1,duration:1e3,easing:oe.default.ease,useNativeDriver:!0}).start(),console.log("Modal shown"),D&&(clearInterval(D),_(null)),I(0),console.log("Timer reset"),s(),console.log("User info updated"),v(!0),f(),setTimeout((()=>{console.log("triggerRefresh called"),E((e=>!e))}),200),console.log("Refresh triggered")),B((e=>!e)),r()}}}}),(0,i.jsx)(z,{style:le.delete,icon:"delete",onPress:r})]}),(0,i.jsx)(z,{style:le.lightbulb,icon:"lightbulb",onPress:()=>(async e=>{try{if(window.confirm("\u0398\u03b1 \u03c7\u03c1\u03b7\u03c3\u03b9\u03bc\u03bf\u03c0\u03bf\u03b9\u03ae\u03c3\u03b5\u03b9\u03c2 100 \u03c0\u03cc\u03bd\u03c4\u03bf\u03c5\u03c2 \u03b3\u03b9\u03b1 \u03c4\u03b7\u03bd \u03b1\u03c0\u03bf\u03ba\u03ac\u03bb\u03c5\u03c8\u03b7 \u03b5\u03bd\u03cc\u03c2 \u03b3\u03c1\u03ac\u03bc\u03bc\u03b1\u03c4\u03bf\u03c2. \u039d\u0391\u0399 \u03ae \u039f\u03a7\u0399")){let t=await x(e);console.log(`triggerRevealLetter result is ${JSON.stringify(t)}`),t.helped?(await s(),n.info&&await g(e),console.log(`Updated authState is ${JSON.stringify(n)}`)):alert("\u03a7\u03c1\u03b5\u03b9\u03ac\u03b6\u03b5\u03c3\u03c4\u03b5 100 \u03c0\u03cc\u03bd\u03c4\u03bf\u03c5\u03c2")}}catch(W){console.error("Error revealing letter:",W)}})(c.crosswordData)}),(0,i.jsx)(ae,{keys:V})]}),P&&(0,i.jsx)(te.default.View,{style:[le.modal,{opacity:A}],children:(0,i.jsxs)(k.default,{style:le.modalContent,children:[(0,i.jsx)(L.default,{style:le.modalText,children:"\u03a3\u03c5\u03b3\u03c7\u03b1\u03c1\u03b7\u03c4\u03ae\u03c1\u03b9\u03b1! \u0392\u03c1\u03ae\u03ba\u03b1\u03c4\u03b5 \u03cc\u03bb\u03b5\u03c2 \u03c4\u03b9\u03c2 \u03bb\u03ad\u03be\u03b5\u03b9\u03c2!!"}),(0,i.jsxs)(L.default,{style:le.modalText,children:["\u03a3\u03b5 \u03ad\u03bd\u03b1 \u03c3\u03c4\u03b1\u03c5\u03c1\u03cc\u03bb\u03b5\u03be\u03bf \u03bc\u03b5 \u03c3\u03ba\u03bf\u03c1 ",R.score," \u03c3\u03b5 \u03c7\u03c1\u03cc\u03bd\u03bf ",(G=R.time,`${Math.floor(G/60)} \u03bb\u03b5\u03c0\u03c4\u03ac \u03ba\u03b1\u03b9 ${G%60} \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1`)]}),R&&(0,i.jsxs)(L.default,{style:le.modalText,children:["\u0391\u03c0\u03cc elo: ",parseInt(R.oldElo)," \u03c3\u03b5 elo: ",parseInt(R.newElo)]}),R&&(0,i.jsxs)(L.default,{style:le.modalText,children:["\u0391\u03c0\u03cc \u03b5\u03c0\u03af\u03c0\u03b5\u03b4\u03bf: ",R.oldLevel," \u03c3\u03b5 \u03b5\u03c0\u03af\u03c0\u03b5\u03b4\u03bf: ",R.newLevel]}),R&&(0,i.jsxs)(L.default,{style:le.modalText,children:["\u03a7\u03c1\u03b5\u03b9\u03ac\u03b6\u03b5\u03c3\u03c4\u03b5 ",parseInt($(R.newElo)-R.newElo+1)," ELO \u03b3\u03b9\u03b1 \u03c4\u03bf \u03b5\u03c0\u03cc\u03bc\u03b5\u03bd\u03bf \u03b5\u03c0\u03af\u03c0\u03b5\u03b4\u03bf"]}),R&&(0,i.jsxs)(k.default,{style:le.progressBarContainer,children:[(0,i.jsx)(k.default,{style:[le.progressBar,{width:`${U=R.newElo,H=$(R.newElo),parseInt(U/H*100)}%`}]}),(0,i.jsxs)(L.default,{style:le.progressText,children:[parseInt(R.newElo)," / ",$(R.newElo)]})]}),(0,i.jsx)(T.default,{onPress:()=>{te.default.timing(A,{toValue:0,duration:1e3,easing:oe.default.ease,useNativeDriver:!0}).start((()=>{O(!1)}))},children:(0,i.jsx)(L.default,{style:le.modalButton,children:"OK"})})]})}),(0,i.jsx)(k.default,{style:le.timerContainer,children:(0,i.jsx)(L.default,{style:le.timerText,children:(e=>`${Math.floor(e/60)} min ${e%60} sec`)(S)})})]})});var U,H,G};var ue=o(3099);const ge=(0,s.createNativeStackNavigator)(),fe=()=>(0,i.jsxs)(l.SafeAreaProvider,{children:[(0,i.jsx)(ue.default,{hidden:!0}),(0,i.jsx)(p,{children:(0,i.jsx)(v,{children:(0,i.jsx)(E,{children:(0,i.jsx)(n.NavigationContainer,{ref:x,children:(0,i.jsxs)(ge.Navigator,{screenOptions:{headerBackVisible:!1},children:[(0,i.jsx)(ge.Screen,{name:"ResolveAuth",component:I,options:{headerShown:!1}}),(0,i.jsx)(ge.Screen,{name:"Signin",component:H,options:{headerShown:!1}}),(0,i.jsx)(ge.Screen,{name:"Account",component:N,options:{headerShown:!1}}),(0,i.jsx)(ge.Screen,{name:"Landing",component:Z,options:{headerShown:!1}}),(0,i.jsx)(ge.Screen,{name:"Settings",component:B,options:{headerShown:!1}}),(0,i.jsx)(ge.Screen,{name:"Signup",component:Y,options:{headerShown:!1}}),(0,i.jsx)(ge.Screen,{name:"Game",component:me,options:{headerShown:!1}})]})})})})})]});(0,r.default)(fe)},7498:(e,t,o)=>{e.exports=o.p+"static/media/santorini2.4cb469de1b0757debde4.png"},7894:(e,t,o)=>{e.exports=o.p+"static/media/landing.b6362b7c8c31b0a9e518.png"},8210:(e,t,o)=>{e.exports=o.p+"static/media/santorini.05e915ac2b9d48caa79e.png"}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=e,(()=>{var e=[];o.O=(t,r,a,n)=>{if(!r){var s=1/0;for(c=0;c<e.length;c++){for(var[r,a,n]=e[c],l=!0,i=0;i<r.length;i++)(!1&n||s>=n)&&Object.keys(o.O).every((e=>o.O[e](r[i])))?r.splice(i--,1):(l=!1,n<s&&(s=n));if(l){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[r,a,n]}})(),o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/",(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var a,n,[s,l,i]=r,d=0;if(s.some((t=>0!==e[t]))){for(a in l)o.o(l,a)&&(o.m[a]=l[a]);if(i)var c=i(o)}for(t&&t(r);d<s.length;d++)n=s[d],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(c)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=o.O(void 0,[144],(()=>o(6774)));r=o.O(r)})();
//# sourceMappingURL=main.335ddecc.js.map